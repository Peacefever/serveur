<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Connexion Page</title>
    <link rel="stylesheet" href="ficher.css" />
</head>
<body>
    <div style="padding:3px; border:5px outset #303030; background-color:#303030; position:absolute; left: 50%; top: 50%; width: 280px; height: 140px; margin-left: -150px; margin-top: -100px;">
        <center>
            <fieldset>
                <legend><strong>Page de connexion</strong></legend>
                <!--<form id="connexion" action="/players" method="POST"-->
                <label for="name">Pseudo :</label>
                <input type="text" name="username" id="username">
                <br><br><button type="button" id="account" value="Creer un compte">Creer un compte</button>
                <!--/form-->
            </fieldset>
        </center>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
    <script>
        $("#account").click(function (e) {
            e.preventDefault()
            let data = {
                "name": $("#username").val()
            }
            $.ajax({
                url: "/account/create",
                type: "POST",
                dataType: "json",
                data: JSON.stringify(data),
                contentType: "application/json; charset=utf-8",
                success: function (response) {
                    alert("Compte creer");
                    document.cookie = response;
                    window.location.href = "/connexion.html";
                },
                failure: function (error) {
                    alert("error");
                }
            });
        });
    </script>
</body>
</html>
